{% extends "base.html" %}

{% block title %}Editor - 2Y2B Tier List{% endblock %}

{% block content %}
<!-- Main wrapper for the editor page layout -->
<div class="editor-wrap">

  <!-- page title/instructions + link back to dashboard -->
  <div class="editor-header">
    <div>
      <h1>Tier List Editor</h1>
      <!-- Short instructions for the user -->
      <p class="muted">
        Add items, customize them, then drag them to the rank of your choosing. Then save!
      </p>
    </div>

    <!-- Links back to dashboard route using Flask url_for -->
    <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Back to Dashboard</a>
  </div>

  <!-- tier ist -->
  <div class="card">
    <div style="display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 1rem;">
      <h2>Tier List Rankings</h2>
      <button class="btn" type="button">Save Tier List</button>
    </div>
    
    <div class="tier-row">
      <div class="tier-label" style="background: linear-gradient(135deg, #ff6b6b, #ee5a6f);">
        S
      </div>
      <div class="tier-content" id="tier-S">
        <!-- items need to get placed here -->
      </div>
    </div>

    <div class="tier-row">
      <div class="tier-label" style="background: linear-gradient(135deg, #ffd93d, #f9ca24);">
        A
      </div>
      <div class="tier-content" id="tier-A">

      </div>
    </div>

    <div class="tier-row">
      <div class="tier-label" style="background: linear-gradient(135deg, #6bcf7f, #4ecb71);">
        B
      </div>
      <div class="tier-content" id="tier-B">

      </div>
    </div>

    <div class="tier-row">
      <div class="tier-label" style="background: linear-gradient(135deg, #4fc3f7, #29b6f6);">
        C
      </div>
      <div class="tier-content" id="tier-C">

      </div>
    </div>

    <div class="tier-row">
      <div class="tier-label" style="background: linear-gradient(135deg, #ba68c8, #ab47bc);">
        D
      </div>
      <div class="tier-content" id="tier-D">

      </div>
    </div>

    <div class="tier-row">
      <div class="tier-label" style="background: linear-gradient(135deg, #90a4ae, #78909c);">
        F
      </div>
      <div class="tier-content" id="tier-F">

      </div>
    </div>
  </div>

  <!-- Bottom section: the editor UI (item form is on the left, pool on the right) -->
  <div class="editor-bottom">
    <div class="editor-grid">

      <!-- Left card: item form for adding a new item -->
      <div class="card">
        <h2>Add New Item</h2>

        <!-- Item text and its required -->
        <div class="form-group">
          <label for="itemText">Item text</label>
          <!-- JS reads the value itemText using document.getElementById("itemText"). This basically makes sure there's an actual value in required -->
          <input id="itemText" type="text" placeholder="e.g., Minecraft">
          <div class="form-help">Required.</div>
        </div>

        <!-- Optional img URL input -->
        <div class="form-group">
          <label for="itemImg">Image URL (optional)</label>
          <!-- If img url blank, item will be text-only -->
          <input id="itemImg" type="text" placeholder="https://...jpg/png/webp">
          <div class="form-help">Optional. If blank, item is text-only.</div>
        </div>

        <!-- Buttons: add item / clear form -->
        <div class="btn-row">
          <!-- JS listens for clicks on this button to add an item -->
          <button id="addItemBtn" class="btn" type="button">Add to Unranked Pool</button>

          <!-- JS listens for clicks here to clear the input -->
          <button id="clearFormBtn" class="btn btn-secondary" type="button">Clear</button>
        </div>

        <!-- Error message area (hidden by default; JS shows/hides it) -->
        <div id="errMsg" class="err-inline" style="display:none;"></div>
      </div>

      <!-- Right card: shows the pool of unranked items -->
      <div class="card">
        <div class="pool-header">
          <h2>Unranked Item Pool</h2>

          <!-- JS updates #count whenever items are added/removed -->
          <div class="muted"><span id="count">0</span> items</div>
        </div>

        <!-- Pool container: JS injects item cards into this div -->
        <div id="pool" class="pool">
          <!-- Empty state message: shown only when there are 0 items -->
          <div id="emptyState" class="muted">No items yet. Add one on the left.</div>
        </div>
      </div>

    </div>
  </div>
</div>

<script defer src="{{ url_for('static', filename='js/editor.js') }}"></script>

{% endblock %}
